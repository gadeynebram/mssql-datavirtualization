services:
  movies:
    image: mcr.microsoft.com/mssql/server:2025-latest
    container_name: movies
    environment:
      ACCEPT_EULA: "Y"
      MSSQL_SA_PASSWORD: "YourStrong!Passw0rd"
      MSSQL_PID: "Express"
    ports:
      - "14332:1433"
    volumes:
      - ./sqlserver/movies:/scripts
    command: ["/bin/bash", "/scripts/entrypoint.sh"]

  books:
    image: mariadb:11
    container_name: books
    environment:
      MARIADB_ROOT_PASSWORD: "Root!Passw0rd"
      MARIADB_DATABASE: "Books"
      MARIADB_USER: "books_user"
      MARIADB_PASSWORD: "Books!Passw0rd"
    ports:
      - "3307:3306"
    volumes:
      - ./mariadb/init.sql:/docker-entrypoint-initdb.d/init.sql

  aviation:
    image: container-registry.oracle.com/database/free:latest
    container_name: aviation
    environment:
      ORACLE_PWD: "Oracle!Passw0rd"
      ORACLE_CHARACTERSET: "AL32UTF8"
    ports:
      - "1521:1521"
      - "5500:5500"
    volumes:
      - ./oracle/init.sql:/opt/oracle/scripts/startup/01_init.sql
    healthcheck:
      test: ["CMD", "healthcheck.sh"]
      interval: 30s
      timeout: 10s
      retries: 5
      start_period: 120s
